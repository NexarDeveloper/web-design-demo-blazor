@page "/User"
@inherits AbstractPage

@if (UserItem.Current is not null)
{
    <ItemPageHeader Text="User" Item=@UserItem.Current />

    <TextFieldCopy Label="UserId" Text=@UserItem.Current.Tag.UserId />

    <TextField Label="UserName" Text=@UserItem.Current.Tag.UserName />

    <TextField Label="Email" Text=@UserItem.Current.Tag.Email />

    <TextField Label="Groups" Text=@UserItem.Current.Groups />

    <MudField Label="Picture" Variant=Variant.Outlined>
        <MudAvatar Square=true Style="height:128px; width:128px;">
            <MudImage Src=@UserItem.Current.Tag.PictureUrl />
        </MudAvatar>
    </MudField>

    <br />
    <AlertGraphQL Files="Users.graphql" />
}

@code {
    protected override void OnInitialized()
    {
        UserItem.OnChange += StateHasChanged;
    }

    protected override void Disposing()
    {
        UserItem.OnChange -= StateHasChanged;
    }
}
