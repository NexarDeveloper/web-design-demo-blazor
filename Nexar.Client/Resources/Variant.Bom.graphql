# Gets the design variant BOM.
query DesignVariantBom($projectId: ID!, $variantName: String!, $limit: Int!) {
  desWipVariantByVariantName(projectId: $projectId, variantName: $variantName) {
    bom {
      ...MyBom
    }
  }
}

# Gets the release variant BOM.
query ReleaseVariantBom($releaseId: ID!, $variantName: String!, $limit: Int!) {
  desReleaseVariantByVariantName(releaseId: $releaseId, variantName: $variantName) {
    bom {
      ...MyBom
    }
  }
}

# This fragment becomes IMyBom in C#.
fragment MyBom on DesBom {
  items(first: $limit) {
    totalCount
    nodes {
      quantity
      component {
        name
        isManaged
      }
      bomItemInstances {
        ...MyBomItemInstance
      }
    }
  }
}

# This fragment becomes IMyBomItemInstance in C#.
fragment MyBomItemInstance on DesBomItemInstance {
  designator
  isFitted
  alternateComponent {
    name
  }
}
