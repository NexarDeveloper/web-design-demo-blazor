@page "/workspace"
@inherits AbstractPage
@implements IDisposable

@if (AppData.CurrentWorkspace != null)
{
    <MudContainer>
        <MudText Typo="Typo.h4" GutterBottom="true">Workspace</MudText>
        <MudTextFieldString Label="Name" Text="@AppData.CurrentWorkspace.Text" ReadOnly="true" Variant="Variant.Outlined" />
        <MudField Label="URL" Variant="Variant.Outlined">
            <MudLink Href="@AppData.CurrentWorkspace.Tag.Url" Target="_blank">@AppData.CurrentWorkspace.Tag.Url</MudLink>
        </MudField>
    </MudContainer>
}

@code {
    protected override void OnInitialized()
    {
        AppData.OnChangeWorkspace += Update;
    }

    public void Dispose()
    {
        AppData.OnChangeWorkspace -= Update;
    }

    void Update()
    {
        StateHasChanged();
    }
}
