@page "/user"
@inherits AbstractPage

@if (UserItem.Current != null)
{
    <ItemPageHeader Text="User" Item=@UserItem.Current />

    <TextFieldCopy Label="UserId" Text="@UserItem.Current.Tag.UserId" />

    <MudTextField T="string" Label="UserName" Text="@UserItem.Current.Tag.UserName" ReadOnly="true" Variant="Variant.Outlined" />

    <MudTextField T="string" Label="Email" Text="@UserItem.Current.Tag.Email" ReadOnly="true" Variant="Variant.Outlined" />

    <MudTextField T="string" Label="Groups" Text="@UserItem.Current.Groups" ReadOnly="true" Variant="Variant.Outlined" />

    <MudField Label="Picture" Variant="Variant.Outlined">
        <MudAvatar Square=true Image="@UserItem.Current.Tag.PictureUrl" Style="height:128px; width:128px;" />
    </MudField>
}

@code {
    protected override void OnInitialized()
    {
        UserItem.OnChange += StateHasChanged;
    }

    protected override void Disposing()
    {
        UserItem.OnChange -= StateHasChanged;
    }
}
