@page "/workspace"
@inherits AbstractPage

@if (WorkspaceItem.Current is not null)
{
    <ItemPageHeader Text="Workspace" Item=@WorkspaceItem.Current />

    <TextFieldCopy Label="Id" Text=@WorkspaceItem.Current.Tag.Id />

    <TextFieldUrl Label="Url" Href=@WorkspaceItem.Current.Tag.Url />

    <TextField Label="Name" Text=@WorkspaceItem.Current.Tag.Name />

    <TextFieldText Label="Description" Text=@WorkspaceItem.Current.Tag.Description />

    <TextField Label="Location (Name / ApiServiceUrl)" Text=@Location />
}

@code {
    protected override void OnInitialized()
    {
        WorkspaceItem.OnChange += StateHasChanged;
    }

    protected override void Disposing()
    {
        WorkspaceItem.OnChange -= StateHasChanged;
    }

    string Location =>
        $"{WorkspaceItem.Current.Tag.Location.Name} / {WorkspaceItem.Current.Tag.Location.ApiServiceUrl}";
}
